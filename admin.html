<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

<!-- Firebase Config (Paste yours below) -->
<script>
  const firebaseConfig = {
    apiKey: "YOUR-API-KEY",
    authDomain: "your-app.firebaseapp.com",
    databaseURL: "https://your-app.firebaseio.com",
    projectId: "your-app",
    storageBucket: "your-app.appspot.com",
    messagingSenderId: "SENDER_ID",
    appId: "APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
</script>

<h2>Add Product</h2>
<form id="productForm">
  <input type="text" id="pname" placeholder="Product Name" required><br/>
  <input type="number" id="price" placeholder="Price" required><br/>
  <input type="file" id="image" accept="image/*" required><br/>
  <button type="submit">Add Product</button>
</form>

<script>
  document.getElementById("productForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const pname = document.getElementById("pname").value;
    const price = document.getElementById("price").value;
    const file = document.getElementById("image").files[0];
    const storageRef = firebase.storage().ref('products/' + file.name);

    storageRef.put(file).then(snapshot => {
      snapshot.ref.getDownloadURL().then(url => {
        const productRef = firebase.database().ref("products").push();
        productRef.set({ name: pname, price: price, image: url });
        alert("âœ… Product Added!");
        document.getElementById("productForm").reset();
      });
    });
  });
</script>
