<!DOCTYPE html>
<html>
<head>
  <title>Checkout - Geetanjali Store</title>
</head>
<body>
  <h2>Checkout</h2>
  <p>Total Amount: â‚¹<span id="amount">0</span></p>
  <button onclick="payNow()">Pay with Razorpay</button>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
    let cart = JSON.parse(localStorage.getItem("cart") || "[]");
    let total = cart.reduce((sum, item) => sum + item.price, 0);
    document.getElementById("amount").innerText = total;

    function payNow() {
      var options = {
        "key": "rzp_test_XXXXXXXXXXXXXX", // Replace with your Razorpay Key
        "amount": total * 100,
        "currency": "INR",
        "name": "Geetanjali Store",
        "description": "Order Payment",
        "handler": function (response){
          alert("Payment Successful: " + response.razorpay_payment_id);
          localStorage.removeItem("cart");
          window.location.href = "ordersuccess.html";
        }
      };
      var rzp = new Razorpay(options);
      rzp.open();
    }
  </script>
</body>
</html>
